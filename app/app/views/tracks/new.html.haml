
#track-new
  %header
    %h1 Submit Track
  %hr

  %form#new_track.new_track{"accept-charset" => "UTF-8",
                            action: "/users/#{@user.id}/tracks",
                            method: "post"}

    %div{style: "margin:0;padding:0;display:inline"}
      %input{name: "utf8", type: "hidden", value: "âœ“"}
      %input{name: "authenticity_token", type: "hidden", value: ""}

    .track-meta  
      .track-artwork-wrap
        
        .track-artwork-url{:style => "background-image:url(\"#{@track.artwork_url}\")"}
          
        %div#track_timeformat_wrap
          %label{for: "track_timeformat"} Timestamp
          %div.input-label-prefix
            %span.prefix
              %i.fi-clock.medium
          %div
            %input#track_timeformat{name: "track[timeformat]",
                                    type: "text",
                                    placeholder: "timeformat",
                                    value: @track.timeformat}
          %small{class: "error timeformat"}
            = @track.errors.messages.has_key?(:timeformat) ? @track.errors.messages[:timeformat].first.capitalize : ""


      .track-info-wrap

        %label{for: "track_title"} Title
        %input#track_title{name: "track[title]",
                            type: "text",
                            placeholder: "Title",
                            value: @track.title}
        %small{class: "error title"}
          = @track.errors.messages.has_key?(:title) ? @track.errors.messages[:title].first.capitalize : ""
            

        %label{for: "track_artist"} Artist
        %input#track_artist{name: "track[artist]",
                           type: "text",
                           placeholder: "Artist",
                           value: @track.artist}
        %small{class: "error artist"}
          = @track.errors.messages.has_key?(:artist) ? @track.errors.messages[:artist].first.capitalize : ""

        %label{for: "track_genres"} Genres
        %input#track_genres{name: "track[genres]",
                           type: "text",
                           placeholder: "Rock, Pop, House",
                           value: @track.genres.map(&:inspect).join(', ')}
        %small{class: "error genres"}
          = @track.errors.messages.has_key?(:genres) ? @track.errors.messages[:genres].first.capitalize : ""

        %div#track_comment_wrap
          %label{for: "track_comment"} Comment
          %textarea#track_comment{cols: "40", maxlength: "1000", name: "track[comment]", rows: "10"}
          %small{class: "error track_comment"}
            = @track.errors.messages.has_key?(:comment) ? @tracks.errors.messages[:comment].first.capitalize : ""

        %input#track_submit.input-submit.button.expand{name: "commit",
                                                       type: "submit",
                                                       value: "Submit Track"}          


    %input#track_page_url{name: "track[page_url]",
                          type: "hidden",
                          placeholder: "page url",
                          value: @track.page_url}

    %input#track_profile_url{name: "track[profile_url]",
                             type: "hidden",
                             placeholder: "profile url",
                             value: @track.profile_url}

    %input#track_track_id{name: "track[track_id]",
                          type: "hidden",
                          value: @track.track_id}
      
    %input#track_shareable{name: "track[shareable]",
                           type: "hidden",
                           value: "#{@track.shareable}"}
      
    %input#track_timestamp{name: "track[timestamp]",
                           type: "hidden",
                           value: @track.timestamp}
      
    %input#track_duration{name: "track[duration]",
                          type: "hidden",
                          value: @track.duration}
      
    %input#track_artwork_url{name: "track[artwork_url]",
                             type: "hidden",
                             value: @track.artwork_url}
      
    %input#track_service{name: "track[service]",
                         type: "hidden",
                         value: @track.service}
      
